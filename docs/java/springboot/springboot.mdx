---
sidebar_label: "Spring Boot"
sidebar_position: 1
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import BrowserWindow from "@site/src/components/BrowserWindow/BrowserWindow";

# Spring Boot

<div
  style={{ display: "flex", justifyContent: "center", alignItems: "center" }}
>
  <img src="https://repository-images.githubusercontent.com/149085612/76e31b00-782c-11e9-8fdc-eec6e93d055b" />
</div>

Spring Boot is an open-source framework that simplifies the development of Java-based, production-ready applications.

## Starting a Spring Boot Project

To start a Spring Boot project, you can use the Spring Initializr. The Spring Initializr is a web-based tool that generates a Spring Boot project structure for you.

[Spring Initializer](https://start.spring.io/)

**Dependencies**

- Spring Web

## Spring Boot quick start

- Copy the zip file to your project directory

```bash
.
├── HELP.md
├── mvnw
├── mvnw.cmd
├── pom.xml
├── src
│   ├── main
│   │   ├── java
│   │   │   └── com
│   │   │       └── practice
│   │   │           └── demo
│   │   │               ├── DemoApplication.java
│   │   │               ├── rest
│   │   │               │   ├── CalculatorController.java
│   │   │               └── utils
│   │   │                   ├── Calculator.java
│   │   │                   ├── CalculatorInterface.java
```

<Tabs>

<TabItem value="Create Interface">

```java title="CalculatorInterface.java"
package com.practice.demo.utils;

public interface CalculatorInterface {
    int add(int num1, int num2);
    int subtract(int num1, int num2);
}
```

</TabItem>

<TabItem value="Create Class">

- `@Component` annotation tells Spring that this class is a bean and should be managed by the Spring container
- `@Override` annotation tells the compiler that the method is an override of a method in the parent class

```java title="Calculator.java"
package com.practice.demo.utils;

import org.springframework.stereotype.Component;

@Component
public class Calculator implements CalculatorInterface {

    @Override
    public int add(int num1, int num2) {
        return num1 + num2;
    }

    @Override
    public int subtract(int num1, int num2) {
        return num1 - num2;
    }
}
```

</TabItem>

<TabItem value="Create Controller">

- `@RestController` annotation tells Spring that this class is a controller
- `@RequestMapping` annotation tells Spring that this controller will handle requests that start with /calculator
- `@Autowired` annotation tells Spring to inject an instance of Math into this controller
- `@GetMapping` annotation tells Spring that this method will handle GET requests to /calculator/add/\{numA\}/\{numB\}
- `@PathVariable` annotation tells Spring to inject the values of the path variables into the numA and numB parameters

```java title="CalculatorController.java"
package com.practice.demo.rest;

import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RequestMapping;

import com.practice.demo.utils.Calculator;

@RestController
@RequestMapping("/calculator")
public class CalculatorController {

    private Calculator calculator;

    @Autowired
    public CalculatorController(Calculator calc) {
        calculator = calc;
    }

    @GetMapping("/add/{numA}/{numB}")
    public int result(@PathVariable int numA, @PathVariable int numB) {
        int result = calculator.add(numA, numB);
        return result;
    }

    @GetMapping("/subtract/{numA}/{numB}")
    public int subtract(@PathVariable int numA, @PathVariable int numB) {
        int result = calculator.subtract(numA, numB);
        return result;
    }
}
```

</TabItem>
<TabItem value="Main">

- `@SpringBootApplication` annotation tells Spring that this class is the entry point for the application

```java title="DemodApplication.java"
package com.stoffel.firstApp;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class HelloWorldApplication {

	public static void main(String[] args) {
		SpringApplication.run(HelloWorldApplication.class, args);
	}

}

```

 </TabItem>

</Tabs>

- Run the application

```bash
 mvn clean  spring-boot:run
```

## Injecting custom properties

```application title="application.properties"
secret.name="Ted Lasso"
```

```java title="ExampleRestController.java"
package com.stoffel.firstApp.rest;

// highlight-next-line
import org.springframework.beans.factory.annotation.Value;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class ExampleRestController {

    // highlight-next-line
    @Value("${secret.name}")
    // highlight-next-line
    private String secretName;

    @GetMapping("/secret")
    public String getSecret() {
       return secretName;
    }
}
```

<BrowserWindow url="http://localhost:8080/secret">"Ted Lasso"</BrowserWindow>

## Adding hot reload

- Add the following dependency to the `pom.xml` file

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-devtools</artifactId>
    <scope>runtime</scope>
</dependency>
```

## Monitoring the application

Spring Boot Actuator provides a set of production-ready features to help you monitor and manage your application.

- Add the following dependency to the `pom.xml` file

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>
```

- in the `application.properties` file, add the following line to enable the endpoints

```properties title="application.properties"
management.endpoints.web.exposure.include=health,info
```

| Name             | Description                                                          |
| ---------------- | -------------------------------------------------------------------- |
| /actuator/health | Shows application health information                                 |
| /actuator/info   | Displays arbitrary application info                                  |
| /actuator/beans  | Displays a complete list of all the Spring beans in your application |

- To add properties to the /info endpoint

```properties title="application.properties"
management.info.env.enabled=true
info.app.author=John Doe
info.app.description=This is a test
info.app.version=1.0.0
```

<BrowserWindow url="http://localhost:8080/actuator/info">
  <p>
    {
      '{"app":{"author":"John Doe","description":"This is a test ","version":"1.0.0"}'
    }
  </p>
</BrowserWindow>

## Configuring the server

```bash
.
├── HELP.md
├── mvnw
├── mvnw.cmd
├── pom.xml
├── src
│   ├── main
│   │   ├── java
│   │   │   └── ...
│   │   └── resources
│   │       ├── application.properties
│   │       ├── static
│   │       └── templates
```

### Updating the default port

- Add the following line to the `application.properties` file

```properties title="application.properties"
server.port=8081
```

### Update context path

- Add the following line to the `application.properties` file

```properties title="application.properties"
server.servlet.context-path=/firstApp
```

Now go to [http://localhost:8081/firstApp/](http://localhost:8081/firstApp/)

### Set logging for application

```properties title="application.properties"
logging.file.name=logs/firstApp.log
```
