---
sidebar_label: Async/Await
sidebar_position: 10
---

# Async/Await

`async/await` is a modern way to handle asynchronous operations in JavaScript. It's built on top of Promises and provides a more concise and readable syntax for writing asynchronous code.

## The `async` Keyword

The `async` keyword is used to declare an asynchronous function. An `async` function always returns a Promise. If the function returns a value, the Promise will be resolved with that value. If the function throws an exception, the Promise will be rejected with that exception.

```javascript
async function sayHello() {
  return "Hello";
}

sayHello().then(console.log); // "Hello"
```

## The `await` Keyword

The `await` keyword can only be used inside an `async` function. It pauses the execution of the function until a Promise is settled (either resolved or rejected). If the Promise is resolved, `await` returns the resolved value. If the Promise is rejected, `await` throws the rejected value.

```javascript
async function sayHello() {
  const promise = new Promise((resolve) => {
    setTimeout(() => resolve("Hello"), 1000);
  });

  const value = await promise;
  console.log(value); // "Hello"
}

sayHello();
```

## Error Handling

To handle errors in an `async` function, you can use a `try...catch` block, just like with synchronous code.

```javascript
async function getUser() {
  try {
    const response = await fetch("https://api.github.com/users/octocat");
    const data = await response.json();
    console.log(data);
  } catch (error) {
    console.error("Error fetching user:", error);
  }
}

getUser();
```

## Fetching Data

`async/await` is particularly useful for fetching data from an API.

```javascript
async function getPost(postId) {
  try {
    // highlight-next-line
    const response = await fetch(
      `https://jsonplaceholder.typicode.com/posts/${postId}`
    );

    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }

    // highlight-next-line
    const data = await response.json();
    console.log(data);
  } catch (error) {
    console.error("Error fetching post:", error);
  }
}

getPost(1);
```

## Handling Multiple Promises

You can use `Promise.all()` to handle multiple promises concurrently. This is much faster than `await`ing each promise individually because the requests are sent in parallel.

```javascript
// Helper function to fetch and parse a post
async function fetchPost(postId) {
  const response = await fetch(`https://jsonplaceholder.typicode.com/posts/${postId}`);
  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }
  return response.json();
}

async function fetchMultiplePosts() {
  try {
    // highlight-start
    // The fetch requests are initiated in parallel
    const [post1, post2] = await Promise.all([
      fetchPost(1),
      fetchPost(2),
    ]);
    // highlight-end

    console.log("Post 1:", post1);
    console.log("Post 2:", post2);
  } catch (error) {
    console.error("Error fetching posts:", error);
  }
}

fetchMultiplePosts();
```
